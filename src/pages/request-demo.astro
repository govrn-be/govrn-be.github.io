---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import hanneImg from '../assets/hanne.png';

const industries = [
  "Financial Services",
  "Healthcare",
  "Real Estate",
  "Manufacturing",
  "Non-Profit",
  "Education",
  "Other"
];

const boardSizes = [
  "1-5 members",
  "6-10 members",
  "11-15 members",
  "16+ members"
];

const features = [
  {
    icon: "üìä",
    title: "Live product demo",
    description: "See Govrn in action with a personalized walkthrough"
  },
  {
    icon: "üí°",
    title: "Expert consultation",
    description: "Get tailored recommendations for your board's needs"
  },
  {
    icon: "üí∞",
    title: "Pricing discussion",
    description: "Learn about our flexible pricing options"
  },
  {
    icon: "üöÄ",
    title: "Implementation plan",
    description: "Discover how to get started with Govrn"
  }
];

const whyChooseUs = [
  {
    icon: "ü§ñ",
    title: "AI-first platform",
    description: "The only board management platform built from the ground up with AI at its core",
    stats: "50% faster decision-making"
  },
  {
    icon: "üîí",
    title: "Enterprise security",
    description: "Bank-grade security with advanced encryption protocols and comprehensive data protection",
    stats: "Zero security incidents"
  },
  {
    icon: "‚ö°",
    title: "Rapid implementation",
    description: "Get up and running in days, not months, with our guided onboarding",
    stats: "Guided setup process"
  },
  {
    icon: "üìà",
    title: "Proven results",
    description: "Our customers see measurable improvements in board efficiency and governance",
    stats: "Measurable improvements"
  },
  {
    icon: "üéØ",
    title: "Purpose-built",
    description: "Designed specifically for board governance, not adapted from other tools",
    stats: "98% user satisfaction"
  },
  {
    icon: "üåç",
    title: "Global compliance",
    description: "Support for international governance standards and regulations",
    stats: "50+ countries supported"
  }
];

const demoOutcomes = [
  {
    icon: "üé¨",
    title: "Live product walkthrough",
    description: "See how AI transforms your board meetings with real-time minute generation, agenda building, and decision tracking"
  },
  {
    icon: "üìã",
    title: "Personalized assessment",
    description: "Get a custom analysis of your current board processes and identify specific areas for improvement"
  },
  {
    icon: "üõ†Ô∏è",
    title: "Implementation roadmap",
    description: "Receive a detailed plan for rolling out Govrn to your board, including timeline and best practices"
  },
  {
    icon: "üíº",
    title: "Custom pricing proposal",
    description: "Get a tailored pricing quote based on your board size, needs, and specific requirements"
  },
  {
    icon: "üéØ",
    title: "ROI projection",
    description: "See projected time savings and efficiency gains specific to your organization's board structure"
  },
  {
    icon: "ü§ù",
    title: "Expert guidance",
    description: "Connect with our board governance experts who understand your industry's unique challenges"
  }
];
---

<Layout title="Request a Demo - Govrn Board Management Software" description="Schedule a personalized demo to see how Govrn can transform your board operations with AI-powered insights and seamless collaboration.">
  <main class="overflow-hidden">
    <!-- Hero Section -->
    <section class="relative bg-gradient-to-br from-white to-gray-50 pt-32 pb-24 overflow-x-hidden">
      <div class="absolute inset-0 z-0">
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_top_right,rgba(57,153,222,0.1),transparent_50%)]"></div>
      </div>

      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Header Section -->
        <div class="text-center mb-16">
          <div class="flex items-center justify-center gap-4 mb-8">
            <div class="inline-flex items-center rounded-full px-4 py-1 text-sm font-medium bg-primary/10 text-primary">
              <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
              </svg>
              Expert Demo Session
            </div>
          </div>

          <h1 class="text-5xl lg:text-6xl font-extrabold text-gray-900 tracking-tight leading-tight mb-8">
            Talk to an
            <span class="bg-clip-text text-transparent" style="background: linear-gradient(to right, #00c3cc, #3372e3, #7426ef); -webkit-background-clip: text;">
              Expert
            </span>
          </h1>

          <p class="text-xl text-gray-600 leading-relaxed max-w-3xl mx-auto">
            Schedule a personalized demo to see how Govrn can transform your board operations with AI-powered insights and seamless collaboration.
          </p>

          <!-- Trial notification banner -->
          <div id="trialNotification" class="hidden mt-8 max-w-2xl mx-auto bg-blue-50 border-2 border-blue-200 rounded-xl p-6">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0">
                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <div class="flex-1">
                <h3 class="text-lg font-semibold text-blue-900 mb-2">Almost there! One more step</h3>
                <p class="text-blue-800">Your free trial details have been submitted successfully. Please book a meeting with our expert below. <strong>Your free trial will start after this meeting</strong>, where we'll help you get set up and answer any questions.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="grid lg:grid-cols-2 gap-16 items-start">
          <!-- Left Column - Form + Calendly -->
          <div class="bg-white rounded-2xl p-8 shadow-xl border border-gray-100">
            <!-- Expert Profile -->
            <div class="flex items-center space-x-4 mb-8 p-4 bg-gradient-to-r from-primary/5 to-blue-50 rounded-xl">
              <div class="flex-shrink-0">
                <Image
                  src={hanneImg}
                  alt="Hanne - Board Governance Specialist"
                  width={64}
                  height={64}
                  class="w-16 h-16 rounded-full object-cover border-2 border-white shadow-md"
                />
              </div>
              <div>
                <h3 class="font-bold text-gray-900">Meet Hanne</h3>
                <p class="text-sm text-gray-600">Board Governance Specialist</p>
                <p class="text-xs text-gray-500 mt-1">Your dedicated expert for this consultation</p>
              </div>
            </div>

            <!-- Pre-qualification Form -->
            <form id="demoGateForm" class="space-y-5">
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label for="firstName" class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
                  <input
                    type="text"
                    id="firstName"
                    name="firstName"
                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                    required
                  />
                </div>
                <div>
                  <label for="lastName" class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
                  <input
                    type="text"
                    id="lastName"
                    name="lastName"
                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                    required
                  />
                </div>
              </div>

              <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Work Email</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                  placeholder="name@company.com"
                  required
                />
                <p id="emailError" class="hidden mt-2 text-sm text-red-600">
                  Please use your professional email address (not gmail.com, hotmail.com, etc.)
                </p>
              </div>

              <div>
                <label for="company" class="block text-sm font-medium text-gray-700 mb-2">Company Name</label>
                <input
                  type="text"
                  id="company"
                  name="company"
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                  required
                />
              </div>

              <div>
                <label for="companyUrl" class="block text-sm font-medium text-gray-700 mb-2">Company Website</label>
                <input
                  type="url"
                  id="companyUrl"
                  name="companyUrl"
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                  placeholder="https://www.yourcompany.com"
                  required
                />
                <p id="urlError" class="hidden mt-2 text-sm text-red-600">
                  Please enter a valid company website URL
                </p>
              </div>

              <button
                type="submit"
                class="w-full px-6 py-4 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors duration-200 font-medium flex items-center justify-center space-x-2"
              >
                <span>Continue to Schedule</span>
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                </svg>
              </button>
            </form>

            <!-- Calendly inline widget (hidden initially) -->
            <div id="calendlyContainer" class="hidden">
              <div class="mb-4 p-4 bg-green-50 border border-green-200 rounded-lg">
                <div class="flex items-center space-x-2">
                  <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                  <span class="text-green-800 font-medium">Details confirmed! Now select your preferred time below.</span>
                </div>
              </div>
              <div id="calendlyWidget" style="min-width:320px;height:700px;"></div>
            </div>
            <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
          </div>

          <!-- Right Column - Key Benefits -->
          <div class="relative">
            <!-- Floating elements for visual appeal -->
            <div class="absolute -top-6 -right-6 w-24 h-24 bg-primary/5 rounded-full blur-xl"></div>
            <div class="absolute -bottom-12 -left-8 w-32 h-32 bg-blue-500/5 rounded-full blur-2xl"></div>

            <div class="relative space-y-8">
              <div>
                <h2 class="text-2xl font-bold text-gray-900 mb-2">What you'll get from this demo</h2>
                <p class="text-lg text-gray-600">Transform your board operations with expert guidance</p>
              </div>

              <div class="grid gap-6">
                {demoOutcomes.slice(0, 4).map((outcome, index) => (
                  <div class="group flex items-start space-x-4 p-6 bg-gradient-to-r from-white to-gray-50/50 rounded-xl border border-gray-100 hover:shadow-lg hover:border-primary/20 transition-all duration-300 hover:scale-[1.02]">
                    <div class="flex-shrink-0 w-14 h-14 bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl flex items-center justify-center text-2xl group-hover:scale-110 transition-transform duration-300">
                      {outcome.icon}
                    </div>
                    <div class="flex-1">
                      <h3 class="font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors">{outcome.title}</h3>
                      <p class="text-sm text-gray-600 leading-relaxed">{outcome.description}</p>
                    </div>
                  </div>
                ))}
              </div>

              <!-- Enhanced Trust badges -->
              <div class="mt-12 p-6 bg-gradient-to-br from-primary/5 via-blue-50/50 to-white rounded-2xl border border-primary/10">
                <div class="grid grid-cols-3 gap-4">
                  <div class="text-center group">
                    <div class="flex-shrink-0 w-16 h-16 mx-auto mb-3 rounded-xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                      <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                    </div>
                    <div class="text-sm">
                      <div class="font-bold text-gray-900">30 Minutes</div>
                      <div class="text-gray-600">Expert consultation</div>
                    </div>
                  </div>

                  <div class="text-center group">
                    <div class="flex-shrink-0 w-16 h-16 mx-auto mb-3 rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                      <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                      </svg>
                    </div>
                    <div class="text-sm">
                      <div class="font-bold text-gray-900">Zero Risk</div>
                      <div class="text-gray-600">No commitment</div>
                    </div>
                  </div>

                  <div class="text-center group">
                    <div class="flex-shrink-0 w-16 h-16 mx-auto mb-3 rounded-xl bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                      <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                      </svg>
                    </div>
                    <div class="text-sm">
                      <div class="font-bold text-gray-900">Book Now</div>
                      <div class="text-gray-600">Instant access</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Why People Choose Us Section -->
    <section class="py-24 bg-gray-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 mb-6">Why leading boards choose Govrn</h2>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto">
            Join hundreds of forward-thinking organizations that have transformed their board governance with our AI-powered platform
          </p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {whyChooseUs.map(reason => (
            <div class="bg-white rounded-xl p-8 shadow-sm hover:shadow-lg transition-all duration-300 border border-gray-100 group hover:scale-105">
              <div class="flex items-start space-x-4">
                <div class="flex-shrink-0 w-14 h-14 bg-primary/10 rounded-xl flex items-center justify-center text-2xl group-hover:bg-primary/20 transition-colors">
                  {reason.icon}
                </div>
                <div class="flex-1">
                  <h3 class="font-bold text-gray-900 mb-3">{reason.title}</h3>
                  <p class="text-gray-600 mb-4">{reason.description}</p>
                  <div class="inline-flex items-center px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium">
                    {reason.stats}
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Enhanced Social Proof Section -->
    <section class="py-32 bg-gradient-to-br from-gray-50 to-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-20">
          <h2 class="text-4xl font-bold text-gray-900 mb-6">Trusted by leading organizations worldwide</h2>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto mb-12">
            Join forward-thinking boards worldwide who have transformed their governance with Govrn
          </p>

          <!-- Value Props Row -->
          <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-16">
            <div class="text-center">
              <div class="text-2xl font-bold text-primary mb-2">üè¢</div>
              <div class="font-semibold text-gray-900">Enterprise clients</div>
              <div class="text-sm text-gray-600">Listed companies & institutions</div>
            </div>
            <div class="text-center">
              <div class="text-2xl font-bold text-primary mb-2">üåç</div>
              <div class="font-semibold text-gray-900">Global reach</div>
              <div class="text-sm text-gray-600">Multiple countries & regulations</div>
            </div>
            <div class="text-center">
              <div class="text-2xl font-bold text-primary mb-2">üîí</div>
              <div class="font-semibold text-gray-900">Enterprise security</div>
              <div class="text-sm text-gray-600">Bank-level protection & compliance</div>
            </div>
            <div class="text-center">
              <div class="text-2xl font-bold text-primary mb-2">üöÄ</div>
              <div class="font-semibold text-gray-900">Rapid deployment</div>
              <div class="text-sm text-gray-600">Quick setup & onboarding</div>
            </div>
          </div>
        </div>

        <!-- Company Logos -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-12 items-center mb-16">
          <div class="bg-white rounded-xl p-8 shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
            <img
              loading="lazy"
              src="/vdv-logo.png"
              alt="Van de Velde"
              class="h-16 object-contain mx-auto"
            />
          </div>
          <div class="bg-white rounded-xl p-8 shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
            <img
              loading="lazy"
              src="/fib-logo.png"
              alt="Finance & Invest Brussels"
              class="h-16 object-contain mx-auto"
            />
          </div>
          <div class="bg-white rounded-xl p-8 shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
            <img
              loading="lazy"
              src="/careproperty-logo.png"
              alt="Care Property Invest"
              class="h-16 object-contain mx-auto"
            />
          </div>
          <div class="bg-white rounded-xl p-8 shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
            <img
              loading="lazy"
              src="/toolbox-logo.png"
              alt="Toolbox Group"
              class="h-16 object-contain mx-auto"
            />
          </div>
        </div>

        <!-- Quality & Implementation Highlights -->
        <div class="grid md:grid-cols-3 gap-8">
          <div class="text-center p-8 bg-white rounded-xl shadow-sm border border-gray-100">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
              <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-3">Premium implementation</h3>
            <p class="text-gray-600 mb-4">White-glove onboarding with dedicated customer success manager and comprehensive support during rollout</p>
            <div class="inline-flex items-center text-sm text-green-600 font-medium">
              <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
              </svg>
              Guided setup process
            </div>
          </div>

          <div class="text-center p-8 bg-white rounded-xl shadow-sm border border-gray-100">
            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
              <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1" />
              </svg>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-3">Enterprise-grade security</h3>
            <p class="text-gray-600 mb-4">Bank-level security architecture with advanced encryption, multi-factor authentication, and robust infrastructure designed for mission-critical board operations</p>
            <div class="inline-flex items-center text-sm text-blue-600 font-medium">
              <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
              </svg>
              Maximum security standards
            </div>
          </div>

          <div class="text-center p-8 bg-white rounded-xl shadow-sm border border-gray-100">
            <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6">
              <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
              </svg>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-3">Proven results</h3>
            <p class="text-gray-600 mb-4">Our clients experience significant time savings and improved board efficiency through AI-powered automation</p>
            <div class="inline-flex items-center text-sm text-purple-600 font-medium">
              <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
              </svg>
              Measurable improvements
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // List of personal email domains to block
    const personalEmailDomains = [
      'gmail.com',
      'googlemail.com',
      'hotmail.com',
      'hotmail.co.uk',
      'hotmail.fr',
      'hotmail.de',
      'hotmail.it',
      'hotmail.es',
      'outlook.com',
      'outlook.fr',
      'outlook.de',
      'outlook.co.uk',
      'live.com',
      'live.co.uk',
      'live.fr',
      'live.nl',
      'msn.com',
      'yahoo.com',
      'yahoo.co.uk',
      'yahoo.fr',
      'yahoo.de',
      'yahoo.it',
      'yahoo.es',
      'ymail.com',
      'aol.com',
      'aol.co.uk',
      'icloud.com',
      'me.com',
      'mac.com',
      'protonmail.com',
      'proton.me',
      'mail.com',
      'gmx.com',
      'gmx.de',
      'gmx.net',
      'web.de',
      'zoho.com',
      'yandex.com',
      'yandex.ru',
      'inbox.com',
      'fastmail.com',
      'tutanota.com',
      'mailinator.com',
      'guerrillamail.com',
      'tempmail.com',
      'sharklasers.com',
      'rediffmail.com',
      'libero.it',
      'virgilio.it',
      'laposte.net',
      'orange.fr',
      'free.fr',
      'wanadoo.fr',
      'sfr.fr',
      'bbox.fr',
      't-online.de',
      'bluewin.ch',
      'telenet.be',
      'skynet.be',
      'proximus.be',
      'ziggo.nl',
      'kpnmail.nl',
      'planet.nl',
      'hetnet.nl',
      'xs4all.nl'
    ];

    function isPersonalEmail(email) {
      const domain = email.split('@')[1]?.toLowerCase();
      return personalEmailDomains.includes(domain);
    }

    function isValidUrl(string) {
      try {
        const url = new URL(string);
        return url.protocol === 'http:' || url.protocol === 'https:';
      } catch (_) {
        return false;
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Show trial notification if user came from trial form
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get('from') === 'trial') {
        const notification = document.getElementById('trialNotification');
        if (notification) {
          notification.classList.remove('hidden');
          notification.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      }

      // Form handling
      const form = document.getElementById('demoGateForm');
      const emailInput = document.getElementById('email');
      const emailError = document.getElementById('emailError');
      const urlInput = document.getElementById('companyUrl');
      const urlError = document.getElementById('urlError');
      const calendlyContainer = document.getElementById('calendlyContainer');
      const calendlyWidget = document.getElementById('calendlyWidget');

      // Real-time email validation
      emailInput?.addEventListener('blur', () => {
        const email = emailInput.value;
        if (email && isPersonalEmail(email)) {
          emailError?.classList.remove('hidden');
          emailInput.classList.add('border-red-500');
          emailInput.classList.remove('border-gray-300');
        } else {
          emailError?.classList.add('hidden');
          emailInput.classList.remove('border-red-500');
          emailInput.classList.add('border-gray-300');
        }
      });

      // Real-time URL validation
      urlInput?.addEventListener('blur', () => {
        const url = urlInput.value;
        if (url && !isValidUrl(url)) {
          urlError?.classList.remove('hidden');
          urlInput.classList.add('border-red-500');
          urlInput.classList.remove('border-gray-300');
        } else {
          urlError?.classList.add('hidden');
          urlInput.classList.remove('border-red-500');
          urlInput.classList.add('border-gray-300');
        }
      });

      form?.addEventListener('submit', (e) => {
        e.preventDefault();

        const formData = new FormData(form);
        const email = formData.get('email')?.toString() || '';
        const companyUrl = formData.get('companyUrl')?.toString() || '';
        const firstName = formData.get('firstName')?.toString() || '';
        const lastName = formData.get('lastName')?.toString() || '';
        const company = formData.get('company')?.toString() || '';

        // Validate email
        if (isPersonalEmail(email)) {
          emailError?.classList.remove('hidden');
          emailInput?.classList.add('border-red-500');
          emailInput?.classList.remove('border-gray-300');
          emailInput?.focus();
          return;
        }

        // Validate URL
        if (!isValidUrl(companyUrl)) {
          urlError?.classList.remove('hidden');
          urlInput?.classList.add('border-red-500');
          urlInput?.classList.remove('border-gray-300');
          urlInput?.focus();
          return;
        }

        // Push to dataLayer for tracking
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
          'event': 'demo_form_submit',
          'email': email,
          'company': company,
          'companyUrl': companyUrl
        });

        // Hide form and show Calendly widget
        form.classList.add('hidden');
        calendlyContainer?.classList.remove('hidden');

        // Build Calendly URL with prefilled data
        const calendlyBaseUrl = 'https://calendly.com/marketing-lech/30min-1';
        const calendlyParams = new URLSearchParams({
          'primary_color': '3999de',
          'name': `${firstName} ${lastName}`,
          'email': email,
          'a1': company,
          'a2': companyUrl
        });

        // Initialize Calendly widget
        if (calendlyWidget) {
          const calendlyUrl = `${calendlyBaseUrl}?${calendlyParams.toString()}`;

          // Wait for Calendly to be available then initialize
          const initCalendly = () => {
            const Calendly = (window as any).Calendly;
            if (Calendly) {
              Calendly.initInlineWidget({
                url: calendlyUrl,
                parentElement: calendlyWidget
              });
            } else {
              // Retry after 100ms if Calendly not ready yet
              setTimeout(initCalendly, 100);
            }
          };

          initCalendly();
        }
      });
    });
  </script>
</Layout>